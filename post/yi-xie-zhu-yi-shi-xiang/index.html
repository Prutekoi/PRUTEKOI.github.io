<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>一些注意事项 | Prutekoi&#39;s blog</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://prutekoi.github.io/favicon.ico?v=1580391144430">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://prutekoi.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153103856-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-153103856-1');
</script>


  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://prutekoi.github.io">
        <img src="https://prutekoi.github.io/images/avatar.png?v=1580391144430" class="site-logo">
        <h1 class="site-title">Prutekoi&#39;s blog</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://prutekoi.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">一些注意事项</h2>
            <div class="post-date">2019-11-23</div>
            
            <div class="post-content">
              <ul>
<li>0xcfcfcfcf是大于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>的</li>
<li>0xbfbfbfbf小于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">-10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>,但相加会爆成正数</li>
<li>0xc0c0c0c0非常可以啊,小于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mn>1</mn><mi>e</mi><mn>9</mn></mrow><annotation encoding="application/x-tex">-1e9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord mathdefault">e</span><span class="mord">9</span></span></span></span>,相加不会爆</li>
<li>link作为变量名在bzoj会CE,但是在noilinux下不会,还是小心点套上namespace吧qwq</li>
<li>用了fread之后其他的scanf,cin啥的都不能正常用了。所以如果是字符串类型的op会被坑qwq</li>
<li>LCT中如果维护了和左右有关的东西交换左右儿子的时候记得交换啊qwq</li>
<li>太妙了..对于查询子树我们可以通过dfs序转化成序列问题,查询链就想难住我??我们不光有dfs序还有欧拉序鸭!入栈设为1出栈设为-1,我们一个前缀和就是一个点到根的链,然后就常规差分一下就好了..牛逼!!(dfs序好像也可以吧...而且这好像是常见套路吧...)</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">2*10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>以内反质数的约数个数只有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1536</mn></mrow><annotation encoding="application/x-tex">1536</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord">3</span><span class="mord">6</span></span></span></span>个(与约数个数相关的暴力复杂度证明)(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1396755360</mn><mo>=</mo><msup><mn>2</mn><mn>5</mn></msup><mo>∗</mo><msup><mn>3</mn><mn>3</mn></msup><mo>∗</mo><mn>5</mn><mo>∗</mo><mn>7</mn><mo>∗</mo><mn>11</mn><mo>∗</mo><mn>13</mn><mo>∗</mo><mn>17</mn><mo>∗</mo><mn>19</mn></mrow><annotation encoding="application/x-tex">1396755360=2^5*3^3*5*7*11*13*17*19</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mord">9</span><span class="mord">6</span><span class="mord">7</span><span class="mord">5</span><span class="mord">5</span><span class="mord">3</span><span class="mord">6</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">9</span></span></span></span>)</li>
<li>LCT改写update就写/lb,不写真的会挂的。access时也要update!</li>
<li>动态点分治没那么可怕,一点点来,一般是先把点分树建好了再去干别的,建好了点分树接下来就好办了。</li>
<li>两个长度为n的数组卷起来的时候一定要开2*n...我是智障</li>
<li>点乘叉积之类的要想数学的几何意义啊....数学都还给老苏了.jpg</li>
<li>对于线段树分治,可以就是把可插可删转化成了只插。可是有时连插入都不支持(凸包,可持久化),那么可以对于线段树每个节点维护一个数据结构,向下查时统统取max.(需要操作间无影响,如动态图连通性就不行.)</li>
<li>精准的元素与元素对应,且有位置关系的要想到卷积鸭</li>
<li>O(1)快速乘的正确性是有保障的,x和y要先对p取模</li>
</ul>
<pre><code class="language-c++">LL mul(LL a,LL b,LL p){
    a%=p;b%=p;
    return a*b-(LL)((long double)a*b/p)*p;
}
</code></pre>
<ul>
<li><a href="https://www.luogu.com.cn/problemnew/solution/P1183">求任意多边形的面积</a>,因为叉积是有向面积,所以若保证点按顺时针或逆时针排好序,我们可以直接做n次叉积(有向面积)的和</li>
<li>ISAP时是从Tbfs求距离,一定要记得自己的边是反的,比如要判edge[i^1]!=0</li>
<li>当直接推导很不可做时可以考虑每个元素的贡献。</li>
<li>当推导出来的函数需要它是一个积性函数时，它多半就是一个积性函数，我们可以通过打表来验证。</li>
<li>重载方括号会导致常数巨大。。若非必须(棋盘开不下二维数组)不要重载</li>
<li>数据结构问题，发现只用支持取出区间里的点，那么其实只用set就好了。。。于是noi2019d2t1就被set套set水过。。</li>
<li>线段树中懒标记无法合并的话会导致直接标记下放的复杂度不对，这时往往可以考虑标记永久化。</li>
<li>多项式乘法通过取ln变成加法。</li>
<li>小数输出位数要尽量多。。样例是坑人的。。</li>
<li>节点编号从0开始时要注意对数组初始是0的影响</li>
<li>设置的inf经过题目的+-之后可能会溢出。这时可以考虑fix（当一个值比inf还要大时重新设为inf）</li>
<li>线段树合并想要可持久化（保留合并之前的）时只要保证对全局数组的修改时都是新建的节点就好了。还要注意叶子节点没有儿子，合并的信息不对。提供一个模板</li>
</ul>
<pre><code class="language-c++">int merge(int x,int y){
	if(!x||!y)return x+y;
	int z=++tot;
	lc[z]=merge(lc[x],lc[y]),rc[z]=merge(rc[x],rc[y]);
	fl[z]=fl[lc[z]]|fl[rc[z]];
	return z;
}
</code></pre>
<ul>
<li>快读一定要写负数！！！！</li>
<li>如果想把【1，2】，【3，4】看作不相邻的线段，只要所有端点离散化后坐标乘2即可。</li>
<li>非常骚的线段排序（结构体下岗了）</li>
</ul>
<pre><code class="language-c++">for(int i=1;i&lt;=n;i++)l[i]=read(),r[i]=read();
p.resize(n);
iota(p.begin(),p.end(),1);
sort(p.begin(),p.end(),[&amp;](int i,int j){
    return l[i]&lt;l[j];
});
for(int i:p){

}
</code></pre>
<p>很遗憾的是，这些语法都只能c++11支持，且会因为访问不连续而变慢（？）</p>
<ul>
<li>对序列整体做某种操作时，可能可以考虑差分不变，来简化问题。。。</li>
<li>为防止输出-0.000，可以在输出时+eps。</li>
<li>答案和数组一定要初始化（即使不知道为什么要初始化TAT）</li>
<li>memset时的sizeof不能一股脑用int，要看清变量类型qwq</li>
<li>无论什么题，都要想怎么样可以消除一些限制关系。如有一个限制叫做序列递增，这样限制了相邻项之间的关系，可能会导致dp维数增加，想要消除则可以考虑这个限制等价于差分非负，这样在差分数组上dp就可以消除两项之间的关系，从而降低dp维数。</li>
<li>树套树等空间吃紧的数据结构可以考虑标记永久化，可以少开节点，往往有奇效</li>
<li>树的数据结构问题转化为dfs序序列问题虽然不失为一种好方法，但是也要注意到树本身的性质：子树区间要么包含要么相离，如果不能利用好性质的话可能会自己给自己找麻烦</li>
<li>取模确实很慢，能memcpy省取模的就memcpy，会有很大优化。</li>
<li>fread 数组的size太大会T，一般1&lt;&lt;15实测是很快的。cin加上</li>
</ul>
<pre><code class="language-c++">ios::sync_with_stdio(false);
cin.tie(nullptr);
</code></pre>
<p>这两行后比scanf快（不过懒得背）。</p>
<ul>
<li>哈希表的常数是不可忽视的，如果发现可能会被卡常想想有没有省掉哈希表的做法。</li>
</ul>

            </div>
            
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '7d25e626199673e220e3',
        clientSecret: '18275839c46c0e4e748c553c6a30d28aca3f634a',
        repo: 'Prutekoi.github.io',
        owner: 'Prutekoi',
        admin: ['Prutekoi'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
